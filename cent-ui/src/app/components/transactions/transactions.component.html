<h1>Transactions</h1>

<div>
  <button
    mat-stroked-button
    color="primary"
    (click)="openAddTransactionDialog()"
  >
    <mat-icon aria-hidden="false" aria-label="Icon" fontIcon="add"></mat-icon>
    Add
  </button>
</div>

<br />

<table mat-table [dataSource]="transactions">
  <!-- Type Column -->
  <ng-container matColumnDef="tr-type">
    <th mat-header-cell *matHeaderCellDef>Type</th>
    <td mat-cell *matCellDef="let element">{{ element.type }}</td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <!-- Category Column -->
  <ng-container matColumnDef="tr-category">
    <th mat-header-cell *matHeaderCellDef>Category</th>
    <td mat-cell *matCellDef="let element">
      {{ element.category && element.category.name }}
    </td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <!-- Source Column -->
  <ng-container matColumnDef="tr-source">
    <th mat-header-cell *matHeaderCellDef>Source</th>
    <td mat-cell *matCellDef="let element">
      {{ element.source && element.source.name }}
    </td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <!-- Date Column -->
  <ng-container matColumnDef="tr-date">
    <th mat-header-cell *matHeaderCellDef>Date</th>
    <td mat-cell *matCellDef="let element">
      {{ element.date | date : "d MMM" }}
    </td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="tr-name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    <th
      mat-footer-cell
      *matFooterCellDef
      style="padding: 0 16px; text-align: left"
    >
      Total
    </th>
  </ng-container>

  <!-- Value Column -->
  <ng-container matColumnDef="tr-value">
    <th mat-header-cell *matHeaderCellDef>Value</th>
    <td mat-cell *matCellDef="let element" style="text-align: right">
      {{ element.value | currency : "UAH" : "symbol" : "" : "uk" }}
    </td>
    <td mat-footer-cell *matFooterCellDef style="text-align: right">
      {{ getTotal() | currency : "UAH" : "symbol" : "" : "uk" }}
    </td>
  </ng-container>

  <!-- Currency Column -->
  <ng-container matColumnDef="tr-currency">
    <th mat-header-cell *matHeaderCellDef>Currency</th>
    <td mat-cell *matCellDef="let element">{{ element.currency }}</td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <!-- Rate Column -->
  <ng-container matColumnDef="tr-rate">
    <th mat-header-cell *matHeaderCellDef>Rate</th>
    <td mat-cell *matCellDef="let element">{{ element.rate }}</td>
    <th mat-footer-cell *matFooterCellDef></th>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>

<br />
